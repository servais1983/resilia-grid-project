<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Fond avec légère grille -->
  <defs>
    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f0f0f0" stroke-width="1"/>
    </pattern>
  </defs>
  <rect width="800" height="600" fill="white"/>
  <rect width="800" height="600" fill="url(#grid)"/>
  
  <!-- Titre du diagramme -->
  <text x="400" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle">Architecture RESILIA-GRID</text>
  
  <!-- Légende -->
  <rect x="650" y="60" width="20" height="20" fill="#3CB371" rx="3" ry="3"/>
  <text x="680" y="75" font-family="Arial" font-size="12">Production</text>
  
  <rect x="650" y="90" width="20" height="20" fill="#4169E1" rx="3" ry="3"/>
  <text x="680" y="105" font-family="Arial" font-size="12">Stockage</text>
  
  <rect x="650" y="120" width="20" height="20" fill="#9932CC" rx="3" ry="3"/>
  <text x="680" y="135" font-family="Arial" font-size="12">NeuroGrid (IA)</text>
  
  <rect x="650" y="150" width="20" height="20" fill="#FF7F50" rx="3" ry="3"/>
  <text x="680" y="165" font-family="Arial" font-size="12">Consommation</text>
  
  <rect x="650" y="180" width="20" height="20" fill="#FFD700" rx="3" ry="3"/>
  <text x="680" y="195" font-family="Arial" font-size="12">EnerShare P2P</text>
  
  <!-- Schéma principal avec disposition en couches -->
  
  <!-- NeuroGrid (IA) au centre - cœur du système -->
  <rect x="300" y="250" width="200" height="100" rx="15" ry="15" fill="#9932CC" stroke="#333" stroke-width="2"/>
  <text x="400" y="295" font-family="Arial" font-size="18" font-weight="bold" fill="white" text-anchor="middle">NeuroGrid (IA)</text>
  <text x="400" y="320" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Système d'IA Holistique</text>
  
  <!-- Production d'énergie (en haut) -->
  <rect x="100" y="100" width="120" height="80" rx="10" ry="10" fill="#3CB371" stroke="#333" stroke-width="2"/>
  <text x="160" y="140" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Solaire PV</text>
  <text x="160" y="160" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Pérovskite 30%</text>
  
  <rect x="240" y="100" width="120" height="80" rx="10" ry="10" fill="#3CB371" stroke="#333" stroke-width="2"/>
  <text x="300" y="140" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Éolien</text>
  <text x="300" y="160" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Turbines Verticales</text>
  
  <rect x="380" y="100" width="120" height="80" rx="10" ry="10" fill="#3CB371" stroke="#333" stroke-width="2"/>
  <text x="440" y="140" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Hydro</text>
  <text x="440" y="160" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Micro-hydroélectricité</text>
  
  <rect x="520" y="100" width="120" height="80" rx="10" ry="10" fill="#3CB371" stroke="#333" stroke-width="2"/>
  <text x="580" y="140" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Biogaz</text>
  <text x="580" y="160" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Déchets Organiques</text>
  
  <!-- Stockage (à gauche) -->
  <rect x="50" y="250" width="150" height="80" rx="10" ry="10" fill="#4169E1" stroke="#333" stroke-width="2"/>
  <text x="125" y="285" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Batteries</text>
  <text x="125" y="305" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Électrolyte Solide</text>
  
  <rect x="50" y="350" width="150" height="80" rx="10" ry="10" fill="#4169E1" stroke="#333" stroke-width="2"/>
  <text x="125" y="385" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Hydrogène</text>
  <text x="125" y="405" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Stockage à Long Terme</text>
  
  <!-- Consommation (à droite) -->
  <rect x="600" y="250" width="150" height="80" rx="10" ry="10" fill="#FF7F50" stroke="#333" stroke-width="2"/>
  <text x="675" y="285" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Résidentiel</text>
  <text x="675" y="305" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Maisons Intelligentes</text>
  
  <rect x="600" y="350" width="150" height="80" rx="10" ry="10" fill="#FF7F50" stroke="#333" stroke-width="2"/>
  <text x="675" y="385" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Industriel</text>
  <text x="675" y="405" font-family="Arial" font-size="10" fill="white" text-anchor="middle">Consommation Optimisée</text>
  
  <!-- Microgrids (en bas) -->
  <rect x="150" y="480" width="500" height="60" rx="10" ry="10" fill="#FFD700" stroke="#333" stroke-width="2"/>
  <text x="400" y="515" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">EnerShare P2P Platform</text>
  <text x="400" y="535" font-family="Arial" font-size="12" text-anchor="middle">Échanges d'Énergie Décentralisés par Blockchain</text>
  
  <!-- Connexions -->
  <!-- Production vers IA -->
  <path d="M 160 180 L 160 230 L 300 250" fill="none" stroke="#333" stroke-width="2" />
  <path d="M 300 180 L 300 230 L 350 250" fill="none" stroke="#333" stroke-width="2" />
  <path d="M 440 180 L 440 230 L 400 250" fill="none" stroke="#333" stroke-width="2" />
  <path d="M 580 180 L 580 230 L 500 250" fill="none" stroke="#333" stroke-width="2" />
  
  <!-- IA vers Stockage -->
  <path d="M 300 300 L 220 300 L 200 300" fill="none" stroke="#333" stroke-width="2" />
  <path d="M 300 320 L 220 380 L 200 380" fill="none" stroke="#333" stroke-width="2" />
  
  <!-- IA vers Consommation -->
  <path d="M 500 300 L 580 300 L 600 300" fill="none" stroke="#333" stroke-width="2" />
  <path d="M 500 320 L 580 380 L 600 380" fill="none" stroke="#333" stroke-width="2" />
  
  <!-- IA vers EnerShare -->
  <path d="M 400 350 L 400 480" fill="none" stroke="#333" stroke-width="2" />
  
  <!-- Stockage vers EnerShare -->
  <path d="M 125 430 L 125 510 L 150 510" fill="none" stroke="#333" stroke-width="2" />
  
  <!-- Consommation vers EnerShare -->
  <path d="M 675 430 L 675 510 L 650 510" fill="none" stroke="#333" stroke-width="2" />
  
  <!-- Capteurs IoT illustrés par des petits points -->
  <circle cx="160" y="200" r="5" fill="blue" />
  <circle cx="300" y="200" r="5" fill="blue" />
  <circle cx="440" y="200" r="5" fill="blue" />
  <circle cx="580" y="200" r="5" fill="blue" />
  <circle cx="220" y="300" r="5" fill="blue" />
  <circle cx="220" y="380" r="5" fill="blue" />
  <circle cx="580" y="300" r="5" fill="blue" />
  <circle cx="580" y="380" r="5" fill="blue" />
  <circle cx="400" y="430" r="5" fill="blue" />
  
  <!-- Cybersécurité symbolisée par un cadenas -->
  <circle cx="670" y="480" r="15" fill="white" stroke="#333" stroke-width="1"/>
  <rect x="662" y="475" width="16" height="12" rx="2" ry="2" fill="#333"/>
  <rect x="667" y="470" width="6" height="5" fill="#333"/>
</svg>
